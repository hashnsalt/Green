<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>object_sort_22-12-01</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
  <script>
    ///////////// 객체 정렬 /////////////////

    // const fruits = ['사과', '딸기', '키위', '망고'];

    // for(let fruit of fruits) {
    //   document.write(fruit, '&nbsp;');
    // }

    // document.write('<br />');

    // // const sortFruits = fruits.sort(); //ㄱ,ㄴ순으로 정렬하는 메소드 sort();
    // const sortFruits = fruits.reverse(); //거꾸로 정렬하는 메소드 reverse();

    // for(let fruit of sortFruits) {
    //   document.write(fruit, '&nbsp;');
    // }


    /// 배열 객체 데이터*** 자주 사용함.

    //ex) 홈쇼핑 티셔츠들의 정보가 객체 데이터로 들어가야한다. 인스턴스가 필요없고 데이터만 처리해주면 되기 때문에
    //배열은 키값 하나만 가지고 정렬하지만, name을 정렬한 후 price를 정렬하고 싶으면 

    const fruits = [
      {name: '사과', price: 1000},
      {name: '딸기', price: 500},
      {name: '키위', price: 2000},
      {name: '망고', price: 2000},
    ] //데이터 자체를 객체 데이터로 가져와서 사용********** 

    // document.write(fruits[1].name);

      for( let fruit of fruits) {
        // document.write(fruit, '<br />'); //사용 안됨 객체 데이터 자체가 인스턴스를 가지지 않고 배열이 되었기 때문에.
        console.log(JSON.stringify(fruit));
      }

      console.log('<br />');
  
  
    //***객체를 정렬할때 숫자 정렬과 문자 정렬이 다름.

    //문자 정렬
    // const sortFruits = fruits.sort() //객체 배열은 이렇게 정렬하면 안된다.
    // const sortFruits = fruits.sort((itemA, itemB) => { // sort(a, b) 매소드의 공식 a와 b를 비교하는 메소드 함수 정의. reverse는 화살표 함수에서 사용하지 않음. 작은걸 왼쪽으로 보내려면 큰것을 -1을 주고 작은걸 1로 주면된다.
    //   if(itemA.name < itemB.name ) {
    //     return -1;
    //   } else if(itemA.name > itemB.name) {
    //     return 1;
    //   } else {
    //     return 0;
    //   }
    // });



    //숫자 정렬
    // const sortFruits = fruits.sort((itemA, itemB) => {
    //   // return itemA.price - itemB.price; //앞의 것이 크면 +, 작은것은 -를 가지기 때문에 자동으로 정렬 된다.
    //   return itemA.price - itemB.price * -1; //역순으로 정렬하려면 -1을 붙여주면 된다.
    // })

    // for(let fruit of sortFruits) {
    //   console.log(JSON.stringify(fruit));
    // }

    //lodash
    //lodash : 유틸리티 라이브러리(API라이브러리 || 보조 라이브러리) -기본적으로 js에서 제공되는 함수가 있지만, 그걸 좀 더 간편하게 사용하게 끔. 메모장과 한글문서의 관계와 비슷
    //_.sortBy(오브젝트명, 키(정렬하고 싶은 키))
    //_.sortBy(오브젝트명, [키1, 키2...](키값을 배열로 사용할 수 있음. 가격을 정렬할때 가격이 똑같으면 이름같은 걸로 2차정렬 3차정렬을 하고 싶을 때 사용))
    //_.sortBy().reverse() (뒤쪽에 이어서 .reverse()를 쓰면 오름차순정렬 했던 것이 내림차순 정렬이 된다.)

    // const sortFruits = _.sortBy(fruits,'price').reverse();
    // const sortFruits = _.sortBy(fruits, (name) => fruits.name); 옛날에는 이렇게 name값을 빼와서 정렬을 했음.

    const sortFruits = _.sortBy(fruits, ['price', 'name']);

    for(let fruit of sortFruits) {
      console.log(JSON.stringify(fruit));
    }

  </script>
</head>
<body>

</body>
</html>